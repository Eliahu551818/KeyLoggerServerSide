<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Login</title>
    <style>
        
    </style>
    <link rel="stylesheet" href="login.css">
</head>
<body>
    <h1>To continue, enter your details</h1>
    <div class="container">
        
        <label for="id">Enter ID:</label>
        <select id="id" name="id" onchange="toggleManualInput()">
            <option value="" disabled selected>Select from the list</option>
            <option value="123456789">123456789</option>
            <option value="987654321">987654321</option>
            <option value="456123789">456123789</option>
            <option value="manual">Enter manually</option>
        </select>

        <br><br>

        <!-- שדה הכנסת ת"ז ידנית -->
        <input type="text" id="manualId" name="manualId" placeholder="Enter ID manually" minlength="9" maxlength="9">

        <br><br>

        <label for="password">Enter password:</label>
        <input type="password" id="password" name="password" placeholder="*********" minlength="6" maxlength="9">
        
        <br><br><br><br><br>

        <button type="button" onclick="clearSelection()">Clear Selection</button>
        <button type="button" onclick="nextPage()">Continue</button>
    </div>

    <script>
        function toggleManualInput() {
            let idSelect = document.getElementById("id");
            let manualInput = document.getElementById("manualId");

            // אם המשתמש בחר "הכנס ידנית", הצג את שדה הת"ז הידני, אחרת הסתר אותו
            if (idSelect.value === "manual") {
                manualInput.style.display = "block";
            } else {
                manualInput.style.display = "none";
                manualInput.value = ""; // איפוס אם המשתמש משנה בחירה
            }
        }

        function clearSelection() {
            document.getElementById("id").selectedIndex = 0; 
            document.getElementById("password").value = "";
            document.getElementById("manualId").style.display = "none"; 
            document.getElementById("manualId").value = ""; 
        }

        function nextPage() {
            let idSelect = document.getElementById("id").value;
            let manualId = document.getElementById("manualId").value;
            let password = document.getElementById("password").value;
            let finalId = idSelect === "manual" ? manualId : idSelect;

            // בדיקת תקינות ת"ז (9 ספרות בלבד)
            if (!(finalId.length === 9 && !isNaN(finalId))) {
                alert("Please enter a valid ID (9 digits)");
                return;
            }
            if (password.length < 6 || password.length > 9) {
                 alert("Password must be between 6 and 9 characters");
                 return;
            }
            window.location.href = "/templates/HomePage.html";
        }
    </script>
</body>
</html>